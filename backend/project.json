{
  "name": "backend",
  "$schema": "../node_modules/nx/schemas/project-schema.json",
  "sourceRoot": "backend/src",
  "projectType": "application",
  "tags": ["type:app", "scope:backend", "language:kotlin"],
  "targets": {
    "build": {
      "executor": "nx:run-commands",
      "outputs": ["{projectRoot}/build"],
      "options": {
        "command": "./gradlew build -x test",
        "cwd": "backend"
      },
      "configurations": {
        "production": {
          "command": "./gradlew build"
        }
      }
    },
    "dev": {
      "executor": "nx:run-commands",
      "options": {
        "command": "./gradlew quarkusDev",
        "cwd": "backend"
      }
    },
    "test": {
      "executor": "nx:run-commands",
      "outputs": ["{projectRoot}/build/test-results"],
      "options": {
        "command": "./gradlew test",
        "cwd": "backend"
      }
    },
    "clean": {
      "executor": "nx:run-commands",
      "options": {
        "command": "./gradlew clean",
        "cwd": "backend"
      }
    },
    "dependencies": {
      "executor": "nx:run-commands",
      "options": {
        "command": "./gradlew dependencies",
        "cwd": "backend"
      }
    },
    "docker:build": {
      "executor": "nx:run-commands",
      "options": {
        "command": "docker build -t payment-schedule-calculator-backend:latest -f Dockerfile .",
        "cwd": "backend"
      }
    },
    "docker:build-native": {
      "executor": "nx:run-commands",
      "options": {
        "command": "docker build -t payment-schedule-calculator-backend:latest -f Dockerfile.native .",
        "cwd": "backend"
      }
    },
    "docker:run": {
      "executor": "nx:run-commands",
      "options": {
        "command": "docker run -p 8080:8080 --name payment-schedule-calculator-backend payment-schedule-calculator-backend:latest",
        "cwd": "backend"
      }
    },
    "docker:stop": {
      "executor": "nx:run-commands",
      "options": {
        "command": "docker stop payment-schedule-calculator-backend && docker rm payment-schedule-calculator-backend",
        "cwd": "backend"
      }
    }
  }
}
